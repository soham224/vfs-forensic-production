# =============================================================================
# VFS Forensic Application - Production Environment Configuration
# =============================================================================
# This is the main environment configuration file for the VFS Forensic system
# in production/Docker deployment mode. This file contains settings for both
# the backend API service and the video notifier service.
#
# Author: VFS Team
# Environment: Production/Docker
# Last Updated: 2025
# =============================================================================
# IMPORTANT NOTES:
# - This file is used in Docker Compose deployments
# - Sensitive credentials should be secured and not committed to version control
# - All file paths reference the host machine and must be mounted as Docker volumes
# - Ensure proper file permissions for all directories
# =============================================================================

# -----------------------------------------------------------------------------
# Logging Configuration
# -----------------------------------------------------------------------------
# Directory path for storing application logs
# In Docker environments, this should be mapped to a volume for persistence
# Logs include: API access logs, error logs, video processing logs
LOG_BASE_DIRECTORY=/app/logs

# -----------------------------------------------------------------------------
# MySQL Database Configuration
# -----------------------------------------------------------------------------
# Database connection settings for the VFS forensic application
# NOTE: Configuration varies based on deployment architecture:
#   - If MySQL runs in Docker: Use service name 'mysql' as MYSQL_HOST
#   - If MySQL runs on host: Use 'host.docker.internal' or host IP as MYSQL_HOST
#   - Ensure the database is created before first application startup

MYSQL_USER=root                          # Database user with full read/write privileges
MYSQL_PASS=Rootmysql@123                # Database user password (CHANGE IN PRODUCTION!)
MYSQL_HOST=mysql                         # MySQL hostname (Docker service name or IP)
MYSQL_PORT=3306                          # MySQL server port (default: 3306)
MYSQL_DB_NAME=vfs_auto_serving          # Target database name for VFS application

# -----------------------------------------------------------------------------
# Video File System Paths (Absolute Host Machine Paths)
# -----------------------------------------------------------------------------
# CRITICAL: These paths exist on the host machine and must be:
#   1. Created with proper permissions before application startup
#   2. Mounted as Docker volumes in docker-compose.yml
#   3. Accessible by the application user/group inside containers

# Directory where surveillance cameras upload incoming video files
# The video notifier service monitors this directory for new files
# Expected format: /path/to/client_videos/{camera_id}/{date}/video_file.mp4
CLIENT_VIDEO_DIR=/home/dev56/Soham/Client_video

# Internal storage directory for processed and archived videos
# Videos are moved here after processing, organized by case/camera/date
# This is the primary video storage location for the application
INTERNAL_VIDEO_FOLDER_PATH=/home/dev56/Soham/frames/vfs/videos

# Directory that NGINX serves videos from (must match NGINX configuration)
# This directory must be readable by the NGINX process
# Typically the same as INTERNAL_VIDEO_FOLDER_PATH for direct serving
NGINX_SERVE_DIRECTORY=/home/dev56/Soham/frames/vfs/videos

# Base filesystem path for video storage on the host
# Used for path transformations between internal paths and public URLs
# Should match the parent directory of your video storage
BASE_PATH=/home/dev56/Soham/frames/vfs/videos/

# -----------------------------------------------------------------------------
# Video Processing Configuration
# -----------------------------------------------------------------------------
# Polling interval for monitoring new video files (in seconds)
# Lower values = faster detection but higher CPU/IO usage
# Recommended range: 5-15 seconds for production environments
# Current setting: Check for new videos every 5 seconds
FOLDER_POLL_INTERVAL=5

# -----------------------------------------------------------------------------
# NGINX Static File Serving Configuration (No-Copy Mode)
# -----------------------------------------------------------------------------
# Base URL where NGINX serves video files to end-users and frontend applications
# Format: http://hostname:port/base_path
# Videos are accessible at: {NGINX_BASE_URL}/{relative_path_to_video}
#
# Example video URL construction:
#   Video file: /home/dev56/Soham/frames/vfs/videos/2025/01/15/camera1.mp4
#   Relative path: 2025/01/15/camera1.mp4
#   Final URL: http://192.168.11.87:7000/videos/2025/01/15/camera1.mp4
#
# NOTE: Ensure NGINX is configured to serve from NGINX_SERVE_DIRECTORY
NGINX_BASE_URL=http://192.168.11.87:7000/videos
